# 四日目

城崎温泉でhaskellを学びます。

### 3.2 鴻の湯

温泉のロビーで扇風機あたりながらコーディングするのよすぎる。

- ガードも聞いたことなさそう
- ifっぽいて書いてあったし実際ifだ
  - ifよりは見やすい気もする？ifとパターンマッチの中間って感じ。
- haskell で二行書くときは `\\` の間に改行を挟む。
- `otherwise` 使わなかったらエラーになる(-Werrorのおかげで)のはパターンマッチと同じ。
- Werror面倒なので消すことにした
- `LT` とか `GT` は `Ordering` だった。
  - `compare 3 2 => GT`
- ガードってインデントずらしたらエラー出るんだ。pythonっぽい（n日ぶりm度目）

### 3.3 まんだら湯

まんだら湯が一番すきです。桶風呂最高。

- where、ガードの後に書くのかぁ
- pythonにおける `with` ブロックっていう感じかな
  - というか関数の中で変数定義するようなもんでは。
- `where` もインデントずらしたらエラー出てた。
- 関数、ガードを使えば `where` でできるけど使わななくてパターンマッチの最後とかに書くのはダメで、そのパターンの中しか使えない。
  - まあスコープとか考えるとそんなもんでしょう。
- `where` でもパターンマッチ使えるの便利そう。
- where の中でも関数定義できるのか…
  - where とリスト内包表記の組み合わせいいですね。

### 3.4 木屋町小路

- よくみる関数の感じになってきた気がする。
- `let ... in ... ` という形で表す。
  - `let` で定義、 `in` で処理
- `let` は式なのでいろんな場所で使える！
  - `in` で値を返すということか
- `[let square x = x * x in (square x, square y, square z) | (x,y,z) <- [(5,3,2)] ] => [(25,9,4)]`
- `let` があればワンライナーでの表現力が高まりそう。
  - `;` も使える。
- `ghci` の `let` はまた別なのかな
- `let` をリスト内包表記の定義の部分で使えば処理部分でも使える。
  - haskell、今までこういう書き方しか学んでいないのだけど関数内でゴリゴリ処理みたいなのはあんまりしないのだろうか？(あとで学ぶとおもうけど。)
- なるほど ghci では `in` 省略できるし `in` がなかったら ghci 全体で有効になるのか
- `otherwise` は bool. `else` みたいなかんじ？

### 3.5 柳湯

柳湯は一番小さくてこじんまりしてるのだけどそれが良いのです。

- `case`, `switch` 文のアレかな。
  - パターンマッチは `case` の構文糖衣らしい。
- 引数以外でもパターンマッチで分岐使えのね。
  - 確かに `if` よりも簡潔に書けそう。
  - `case` は `->` なんだなあ
- `where` でも分岐使えるし、普通の関数定義と同じようなもん？

## 第4章 足湯

さとの湯の足湯、地味に見つかりにくいとこにあるし穴場だと思う。

- 再帰関数しっかり学べるのよい。
  - まあ帰納法も再帰使ってるようなもんですよね
  - フィボナッチ数列の一般解最近学んだ気がする
- 「どうやってするか」 ではなく 「何を求めるか」が大事らしい
  - `for` とか使わずに再帰かきまくるイメージがある

### 4.1

- 再帰何度か書いたことあるのでこのへんはすっと読めた。

## 感想

- 城崎温泉は最高
- パターンマッチはとにかく便利そう、というか短い記述で済みそう

